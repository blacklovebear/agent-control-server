
# test union
curl -H "Content-Type: application/json" -X POST -d '
{
    "zkServers": "192.168.2.25:2181",
    "kafkaServers":"192.168.2.25:9092",
    "units":[
        {
            "masterAddress": "127.0.0.1:3306",
            "dbUsername": "root",
            "dbPassword": "123456",

            "tableFilter": "test.test,test.test1",
            "tableToTopicMap": "test.test:test123;test.test1:test234",
            "tableFieldsFilter": "test.test:uid,name;test.test1:id,name;test.user_info:name,age"
        },
        {
            "masterAddress": "127.0.0.2:3306",
            "dbUsername": "root",
            "dbPassword": "12345678",

            "tableFilter": "test.test,test.test2",
            "tableToTopicMap": "test.test:test123;test.test1:test234",
            "tableFieldsFilter": "test.test:uid,name;test.test1:id,name;test.user_info:name,age"
        }
    ]
}
' \
http://localhost:8080/config/union

# test union unit
curl -H "Content-Type: application/json" -X POST -d '
{
    "masterAddress": "127.0.0.1:3306",
    "dbUsername": "root",
    "dbPassword": "123456",

    "tableFilter": "test.test,test.test1",
    "tableToTopicMap": "test.test:test123;test.test1:test234",
    "tableFieldsFilter": "test.test:uid,name;test.test1:id,name;test.user_info:name,age"
}
' \
http://localhost:8080/config/union/unit